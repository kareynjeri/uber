(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{"00Ox":function(e,t,a){e.exports=a.p+"1e2542996aa91ac2e29461f5de0251ce.svg"},__fusion__36:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),o=a.n(r),i=a("w/KK"),n=a("O1HA"),s=a("ANjH"),c=a("qrOD");const l="TS_PLACE_DETAILS_CLEAR",d="TS_DIRECTIONS_CLEAR",u="TS_CLEAR_ALL_REDUCERS";var p=a("K0tr");const g={suggestions:{pickup:null,destination:null},isLoading:!1,error:!1,type:""};const f=Object(p.c)("loadTSSuggestions",{start:function(e,t){const a=e||g;if(!t.payload.q){const e={...a.suggestions},{type:r}=t.payload;return e[r]=null,{...a,suggestions:e,type:t.payload.type,isLoading:!1,error:!1}}return{...a,type:t.payload.type,isLoading:!0,error:!1}},success:function(e,t){const a=e||g;if(!t.payload||!t.payload.type)return a;const r={...a.suggestions},{type:o,candidates:i}=t.payload;return r[o]=i,{...a,suggestions:r,isLoading:!1,error:!1}},failure:function(e,t){return{...e||g,isLoading:!1,error:!0,type:""}}});var m=Object(c.a)(e=>e||g,f,(e,t)=>{const a=e||g;switch(t.type){case u:return g;default:return a}});const L={directions:null,isLoading:!1,error:!1};const b=Object(p.c)("loadTSDirections",{start:function(e){return{...e||L,isLoading:!0,error:!1}},success:function(e,t){const a=e||L,{directions:r}=t.payload;return{...a,directions:r,isLoading:!1,error:!1}},failure:function(e,t){return{...e||L,isLoading:!1,error:!0}}});var y=Object(c.a)(e=>e||L,b,(e,t)=>{const a=e||L;switch(t.type){case d:return{...a,directions:null,error:!1};case u:return L;default:return a}});const D={isLoading:!1,territoryGeoPoint:{latitude:37.774955,longitude:-122.419579},territoryGeoJson:null,territoryName:null,territoryId:null,hasLoaded:!1,error:!1};const S=Object(p.c)("loadTSGeolocation",{start:function(e){return{...e||D,isLoading:!0,error:!1}},success:function(e,t){const a=e||D,r=t.payload,{territoryGeoPoint:o,territoryGeoJson:i,territoryName:n,territoryId:s}=r.best.territoryGeoPoint?r.best:r.user;return{...a,hasLoaded:!0,isLoading:!1,territoryGeoPoint:o||a.territoryGeoPoint,territoryGeoJson:i,territoryName:n,territoryId:s}},failure:function(e,t){return{...e||D,hasLoaded:!0,isLoading:!1,error:!0}}});var h=Object(c.a)(e=>e||D,S,(e,t)=>{const a=e||D;switch(t.type){case u:return D;default:return a}}),P=a("7vnS"),k=a.n(P);const O={pickup:null,destination:null,loadingState:{pickup:!1,destination:!1},isLoadingCurrentLocation:!1,errors:{pickup:!1,destination:!1}};const C=Object(p.c)("loadTSPlaceDetails",{start:function(e,t){const a=e||O;return{...a,loadingState:{...a.loadingState,[t.payload.type]:!0},errors:{}}},success:function(e,t){const a=e||O,{type:r,...o}=t.payload;return{...a,[r]:o,loadingState:{...a.loadingState,[r]:!1}}},failure:function(e,t){const a=e||O,r=k()(t,"payload.meta.type");return{...a,loadingState:{...a.loadingState,[r]:!1},errors:{...a.errors,[r]:!0}}}});var T=Object(c.a)(e=>e||O,C,(e,t)=>{const a=e||O;switch(t.type){case l:return{...a,[t.payload.type]:null};case u:return O;default:return a}});const v={tsSuggestions:g,tsDirections:L,tsGeolocation:D,tsPlaceDetails:O},j={tsSuggestions:m,tsDirections:y,tsPlaceDetails:T,tsGeolocation:h};var w=a("dce5"),E=a("ToDd"),A=a("XDzi"),G=a("+NmV"),N=a("cr+I"),_=a.n(N),R=a("UAkr"),q=a("X7BR"),x=a("aOzu"),I=a("/YQ0");const U=Object(R.a)("loadTSCurrentLocation",{start:function(e){const t=e||v;return{...t,tsPlaceDetails:{...t.tsPlaceDetails,isLoadingCurrentLocation:!0,loadingState:{...t.tsPlaceDetails.loadingState,pickup:!0},errors:{}}}},success:function(e,t){const a=e||v,{address:r,position:o}=t.payload;let i;const n=a.tsPlaceDetails.pickup||{};return r&&r.location&&(i={...n,id:r.location.id,addressLine1:r.location.fullAddress,addressLine2:"",lat:o.lat,long:o.lng,isCurrentLocation:!0,provider:r.location.provider,title:r.location.addressLine1,fullAddress:r.location.fullAddress}),{...a,tsPlaceDetails:{...a.tsPlaceDetails,isLoadingCurrentLocation:!1,loadingState:{...a.tsPlaceDetails.loadingState,pickup:!1},errors:{...a.tsPlaceDetails.errors,pickup:!r||!r.location},pickup:i}}},failure:function(e,t){const a=e||v;return{...a,tsPlaceDetails:{...a.tsPlaceDetails,isLoadingCurrentLocation:!1,loadingState:{...a.tsPlaceDetails.loadingState,pickup:!1},errors:{...a.tsPlaceDetails.errors,pickup:!0}}}}});const M=Object(R.a)("loadTSPlaceDetailsByCoordinates",{start:function(e,t){const a=e||v,{type:r}=t.payload;return{...a,tsPlaceDetails:{...a.tsPlaceDetails,loadingState:{...a.tsPlaceDetails.loadingState,[r]:!0},errors:{}}}},success:function(e,t){const a=e||v,{address:r,position:o,type:i}=t.payload;let n;const s=a.tsPlaceDetails[i]||{};return r&&r.location&&(n={...s,id:r.location.id,addressLine1:r.location.fullAddress,addressLine2:"",lat:o.lat,long:o.lng,provider:r.location.provider,title:r.location.addressLine1,fullAddress:r.location.fullAddress}),{...a,tsPlaceDetails:{...a.tsPlaceDetails,loadingState:{...a.tsPlaceDetails.loadingState,[i]:!1},[i]:n}}},failure:function(e,t){const a=e||v,{type:r}=t.payload;return{...a,tsPlaceDetails:{...a.tsPlaceDetails,loadingState:{...a.tsPlaceDetails.loadingState,[r]:!1},errors:{...a.tsPlaceDetails.errors,[r]:!0}}}}});function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}const F={clearTSPlaceDetails:e=>({type:l,payload:{type:e}}),clearTSDirections:()=>({type:d}),clearAllTSReducers:()=>({type:u})};var K=Object(s.compose)(Object(R.b)("loadTSSuggestions"),Object(R.b)("loadTSDirections"),Object(R.b)("loadTSGeolocation"),Object(R.b)("loadTSPlaceDetails"),U,M,Object(n.a)((function({tsPlaceDetails:e,tsGeolocation:t,tsSuggestions:a,tsDirections:r}){return{suggestions:a.suggestions,directions:r.directions,isLoadingDirections:r.isLoading,isLoadingSuggestions:a.isLoading,isLoading:t.isLoading,isLoadingCurrentLocation:e.isLoadingCurrentLocation,currentLocationError:e.errors.pickup,pickupDetails:e.pickup,destinationDetails:e.destination,placeDetailsLoading:e.loadingState,isPickupUsingCurrentLocation:!!e.pickup&&!!e.pickup.isCurrentLocation,defaultMapCenter:t.territoryGeoPoint,defaultMapGeoJson:t.territoryGeoJson,showCommonError:e.errors.pickup||e.errors.destination||t.error||a.error,hasGeolocationLoaded:t.hasLoaded}}),F),I.b,Object(x.a)(e=>e.hasGeolocationLoaded?Promise.resolve():e.loadTSGeolocation()),(function(e){return class extends o.a.Component{componentWillUnmount(){this.props.clearAllTSReducers()}render(){return o.a.createElement(e,J({},this.props,{mapClientId:q.i,tripRequestUrl:"https://m.uber.com/looking"}))}}}));function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class B extends o.a.Component{constructor(...e){super(...e),z(this,"clearFEPlaceDetails",(...e)=>{const{pickupDetails:t,destinationDetails:a,clearTSPlaceDetails:r,setShowTripSelectorMap:o}=this.props,i=!!t&&!!a;r(...e),o(i)}),z(this,"fetchCurrentLocation",(...e)=>{const{loadTSCurrentLocation:t,setShowTripSelectorMap:a}=this.props;t(...e),a(!0)}),z(this,"loadPlaceDetails",(...e)=>{const{loadTSPlaceDetails:t,setShowTripSelectorMap:a}=this.props;t(...e),a(!0)})}componentDidMount(){const{history:{location:{search:e}},coordinates:t,currentLanguage:a,loadTSPlaceDetailsByCoordinates:r}=this.props;if(t){const{pickup:e,destination:o}=t;return e&&e.lat&&e.lng&&r({lat:Number(e.lat),lng:Number(e.lng),type:"pickup",lang:a}),void(o&&o.lat&&o.lng&&r({lat:Number(o.lat),lng:Number(o.lng),type:"destination",lang:a}))}if(e){const{p_lat:t,p_long:o,d_lat:i,d_long:n}=_.a.parse(e);t&&o&&r({lat:Number(t),lng:Number(o),type:"pickup",lang:a}),i&&n&&r({lat:Number(i),lng:Number(n),type:"destination",lang:a})}}render(){const{active:e,anchorName:t,tripRequestUrl:r,isLoading:i,eventKeyPrefix:n,error:s,translate:c,suggestions:l,directions:d,defaultMapCenter:u,defaultMapGeoJson:p,loadTSDirections:g,loadTSSuggestions:f,isLoadingCurrentLocation:m,isLoadingDirections:L,currentLocationError:b,pickupDetails:y,destinationDetails:D,isPickupUsingCurrentLocation:S,showCommonError:h,currentLanguage:P,clearTSDirections:k,isLoadingSuggestions:O,mapClientId:C,rtl:T,placeDetailsLoading:v,heading:j}=this.props;if(i||s)return o.a.createElement("noscript",null);const E={locationLabel:c("fare-estimate.location-aria-label"),pickupAriaLabel:c("fare-estimate.pickup-aria-label"),clearDestinationAriaLabel:c("fare-estimate.clear-destination-aria-label"),clearPickupAriaLabel:c("fare-estimate.clear-pickup-aria-label"),pickupPlaceholder:c("fare-estimate.pickup-placeholder"),destinationAriaLabel:c("fare-estimate.destination-aria-label"),destinationPlaceholder:c("fare-estimate.destination-placeholder"),noDetectLocationPermissionError:c("fare-estimate.error.no-detect-location-permission"),commonDetectLocationError:c("fare-estimate.error.common-detect-location"),commonError:c("fare-estimate.error.common-request"),ctaTextRequestNow:c("fare-estimate.error.request-now"),ctaTextScheduleForLater:c("fare-estimate.error.schedule-for-later")},A={active:e,anchorName:t,eventKeyPrefix:n,heading:j,isLoadingDirections:L,tripRequestUrl:r,rtl:T,routesInputProps:{suggestions:l,mapCenter:u,isLoadingCurrentLocation:m,currentLocationError:b,isLoadingSuggestions:O,locale:P,pickupDetails:y,destinationDetails:D,isPickupUsingCurrentLocation:S,clearFEPlaceDetails:this.clearFEPlaceDetails,clearFEDirections:k,loadFEDirections:g,fetchCurrentLocation:this.fetchCurrentLocation,getSuggestions:f,loadPlaceDetails:this.loadPlaceDetails,placeDetailsLoading:v},mapProps:{clientId:C,pickupMarkerUrl:y&&!D?Object(w.a)(a("wNWc")):Object(w.a)(a("00Ox")),destinationMarkerUrl:Object(w.a)(a("gR2Y")),mapCenter:u,mapGeoJson:p,pickupDetails:y,destinationDetails:D,points:d?d.points:void 0},localization:E,showCommonError:h};return o.a.createElement(G.a,A)}}const W=Object(s.compose)(A.f,K,Object(E.a)(["fare-estimate.error.common-request","fare-estimate.error.no-detect-location-permission","fare-estimate.error.common-detect-location","fare-estimate.location-aria-label","fare-estimate.pickup-aria-label","fare-estimate.pickup-placeholder","fare-estimate.destination-aria-label","fare-estimate.destination-placeholder","fare-estimate.clear-pickup-aria-label","fare-estimate.clear-destination-aria-label","fare-estimate.error.request-now","fare-estimate.error.schedule-for-later"]))(B);var Y=a("oBQU"),H=a("NzG9"),Q=a.n(H);const X=Object(s.compose)(Object(n.a)(({languages:e,routes:t})=>{const{currentLanguage:a}=e;return{currentLanguage:a,rtl:Q.a.isRtlLang(a)}}),Object(Y.withLocalStore)({name:"Trip Selector Store",reducers:j,initialState:v}))(W);var V=a("p9d5");function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}t.default=Object(E.a)(["hp.ride.headline.request-ride.text","hp.ride.headline.request-ride.aria-label","fare-estimate.btn.request-ride","hp.ride.CTA-secondary.learn-about-riding.text","hp.ride.CTA-secondary.learn-about-riding.aria-label"])(e=>{const[t,a]=Object(r.useState)(!1),{translate:n,pathname:s}=e,c=Object(V.getUrlSlug)(s),l="".concat(c,"_product-header"),d=e.items.map((e,t)=>{const r="".concat(l,"_components.blocks.product-masthead-wrapper_cta").concat(t+1),i=Object.assign({eventKey:r},e);return 1===t&&(i.contentOverride=o.a.createElement(X,{setShowTripSelectorMap:a,eventKeyPrefix:l,heading:n("hp.ride.headline.request-ride.text")})),i});return o.a.createElement(i.a,Z({},e,{showMobileImageForOverride:!t,items:d}))})},gR2Y:function(e,t,a){e.exports=a.p+"5036cf2628e7c372cba49a09d137c534.svg"},wNWc:function(e,t,a){e.exports=a.p+"699a1bf5fa911a4ea73540c666ae7a51.svg"}}]);